<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./stylefiles/style.css">
    <link rel="stylesheet" href="./stylefiles/dashboard.css">
    
    <link rel="stylesheet" href="	https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css">
    <style>
        .aa:hover{
        color:black !important; 
        }
        .blog-image {
        max-width: 100px; /* Adjust the value as needed */
        margin-right: 10px;
    }
.cont2{
    justify-content: left;
}
.myblogs{
    margin-left: 7%;
}
.cont2{
    margin-left: 5% !important;
}

.blog-content{
    margin: 10%;
    padding: 10%;
    box-shadow:  rgba(0, 0, 0, 0.3) 0px 19px 38px, rgba(0, 0, 0, 0.22) 0px 15px 12px !important;

width: 200%;
display: flex;
}
  </style>


</head>
<body>

    <nav class="navbar  navip">
      <div class="container-fluid">
        <span class="navbar-brand mb-0 h1">Personal Blogging App</span>
        <button type="button" class="btn btn-outline-light me-2 logbtn btn-md"> <a style="text-decoration: none;color: white;" class="aa" href="/signup.html">SignUp</a></button>
      </div>
    </nav>
    <nav class="navbar secondh">
      <div class="container-fluid">
        <span class="navbar-brand mb-0 h1 sign">Good Morning Readers</span>
    </nav>
  
  <br> <br>
    <span class="myblogs">All Blogs</span> <br> <br>
  
    <div class="container cont2" id="blogContainer">
       
        <ul id="postList"></ul>
    
    
      </div>
  

















      <script>






















        // Function to save the blog posts to localStorage
        function savePosts(posts) {
            localStorage.setItem("blogPosts", JSON.stringify(posts));
        }
        
        // Function to retrieve blog posts from localStorage
        function getPosts() {
            const postsJSON = localStorage.getItem("blogPosts");
            return JSON.parse(postsJSON) || [];
        }
        
        // Load initial posts from localStorage
        const initialPosts = getPosts();
        
        // Display initial posts
        const postList = document.getElementById("postList");
        for (const post of initialPosts) {
            const postItem = document.createElement("li");
            postItem.classList.add("blog-post");
            postItem.innerHTML = post;
            postList.appendChild(postItem);
        }
        
        document.getElementById("postForm").addEventListener("submit", function(event) {
            event.preventDefault();
        
            const title = document.getElementById("title").value;
            const content = document.getElementById("content").value;
            const timestamp = new Date().toLocaleString(); // Get current timestamp
        
            const imageUrl = "/Screenshot 2023-08-25 154634.jpg"; // Replace with the actual image URL
        
            const postContent = `
                <div class="blog-content">
                    <img src="${imageUrl}" alt="Blog Image" class="blog-image">
                    <div class="blog-text">
                        <strong>${title}</strong><br>
                        ${content}<br>
                        <small>${timestamp}</small>
                    </div>
                </div>

               
            `; 
        
            const postItem = document.createElement("li");
            postItem.classList.add("blog-post");
            postItem.innerHTML = postContent;
            postList.insertBefore(postItem, postList.firstChild);
        
            // Save the new post to localStorage
            const currentPosts = getPosts();
            currentPosts.unshift(postContent);
            savePosts(currentPosts);
        
            // Clear the form fields after publishing
            document.getElementById("title").value = "";
            document.getElementById("content").value = "";
        });
        
        
        
        
        
        
        
          </script>






    
    <script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.7.1/firebase-storage.js"></script>
    <script src="./jsfiles/firebase-config.js"></script>
  
    <script src="./jsfiles/app.js"></script>
  
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
   
  </body>
  </html>